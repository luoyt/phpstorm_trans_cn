# 在项目中查找替换文本


在这个页面中：

* [介绍](#介绍)
* [在指定路径的所有文件中查找一段文本](#在指定路径的所有文件中查找一段文本)
* [在指定路径的所有文件中替换一段文本](#在指定路径的所有文件中替换一段文本)
* [在查找和替换之间切换](#在查找和替换之间切换)


## <span id='介绍'>介绍</span>

PhpStorm将搜索和替换功能扩展到整个项目或任何具有嵌套层次结构的目录。在[查找工具窗](/参考/工具窗参考/查找工具窗.md)中浏览搜索结果。


## <span id='在指定路径的所有文件中查找一段文本'>在指定路径的所有文件中查找一段文本</span>

**要在指定路径的所有文件中查找文本片段，请按照下列步骤操作**

1. 在主菜单上，选择**Edit | Find | Find in Path**，或按`Ctrl+Shift+F`。
2. 在[在路径中查找](/参考/对话框/在路径中查找和替换.md)对话框中，指定下列选项：
    * The text to find:显式键入文本，或使用正则表达式，或从最近历史记录下拉列表中选择以前使用过的一段文本或正则表达式。

        如果通过正则表达式指定搜索模式，使用`$n`格式化后面的参考（引用以前找到并保存的模式）。

    * Search scope:项目、目录或自定义范围。
    * Search options:大小写敏感、全词匹配和正则表达式。

3. 点击**Find**。

如果搜索需要的时间过长，请在搜索进度窗口单击[Background](/如何使用/常规指南/使用后台任务.md)。在这种情况下，搜索进度在状态栏中指示。


## <span id='在指定路径的所有文件中替换一段文本'>在指定路径的所有文件中替换一段文本</span>

**要替换指定路径的所有文件中的一段文本，请按照下列步骤操作**

1. 执行以下操作之一：
    * 在主菜单，选择**Edit | Find | Replace in Path**。
    * 按`Ctrl+Shift+R`。
    * 在[在路径中查找](/参考/对话框/在路径中查找和替换.md)对话框中，按`Ctrl+Shift+R`切换到[在路径中替换](/参考/对话框/在路径中查找和替换.md)对话框。
2. 在[在路径中替换](/参考/对话框/在路径中查找和替换.md)对话框中，指定搜索和替换字符串，搜索选项和范围。显式键入搜索和替换文本，或使用正则表达式，或从最近历史记录下拉列表中选择以前使用过的一段文本或正则表达式。
    * 如果通过正则表达式制定搜索和/或替换文本字符串，使用`$n`格式化后面的参考（引用以前找到并保存的模式）。
    * 要在正则表达式中使用反斜杠字符`\`，在有意义的反斜线之前插入三个额外的反斜杠： `\\\\`。
3. 点击**Find**。PhpStorm在[查找工具窗](/参考/工具窗参考/查找工具窗.md)中显示搜索到的字符串，选择第一次出现的匹配将在编辑器中打开该文件，并把焦点移动到它。

    同时，PhpStorm打开**Replace Usage**对话框，并在标题栏中显示所匹配字符串所在文件的完整路径：

    ![ps_replace_usage](http://image.jellychen.cn/uploads/2017/02/ps_replace_usage.png)

    执行以下操作之一：
    * 要替换选中的匹配项，点击**Replace**。
    * 要保留当前选中的匹配项并移动到下一个匹配项，点击**Skip**。
    * 要替换当前活动选项卡中所有的匹配项，点击**Replace All in This File**。
    * 要保留当前活动选项卡中所有的搜索字符串匹配项并移动到下一个文件，点击**Skip to Next File**。
    * 要替换所有发现的匹配项，点击**All Files**。
    * 要切换到手动模式，点击**Preview**.**Replace Usage**对话框关闭将被关闭并将焦点移动到查找工具窗。执行以下操作之一：
        * 浏览匹配项列表，选择想要替换的匹配项然后点击**Replace Selected**。
        * 要替换所有匹配项，点击**Replace All**。

## <span id='在查找和替换之间切换'>在查找和替换之间切换</span>

**要在[在路径中查找](/参考/对话框/在路径中查找和替换.md)对话框和[在路径中替换](/参考/对话框/在路径中查找和替换.md)对话框之间切换**

* 从[在路径中查找](/参考/对话框/在路径中查找和替换.md)对话框切换到[在路径中替换](/参考/对话框/在路径中查找和替换.md)对话框，按`Ctrl+Shift+R`。
* 从[在路径中替换](/参考/对话框/在路径中查找和替换.md)对话框切换到[在路径中查找](/参考/对话框/在路径中查找和替换.md)对话框，按`Ctrl+Shift+F`。



# 另请参阅：

入门指南：

* [使用搜索结果](/如何使用/常规指南/搜索代码/使用搜索结果.md)

参考：

* [在路径中查找和替换](/参考/对话框/在路径中查找和替换.md)
# 在表格格式编辑CSV和类似文件

在这个页面中：

* [概述](#概述)
* [先决条件](#先决条件)
* [打开表格编辑器](#打开表格编辑器)
* [排序数据](#排序数据)
* [隐藏和展示列](#隐藏和展示列)
* [转置表格](#转置表格)
* [对一列开启代码协助](#对一列开启代码协助)
* [修改单元格内容](#修改单元格内容)
* [添加删除行和列](#添加删除行和列)
* [复制数据到剪贴板或保存到文件](#复制数据到剪贴板或保存到文件)
* [改变数据输出格式](#改变数据输出格式)
* [数据标签不可见，为什么？](#数据标签不可见，为什么？)


## <span id='概述'>概述</span>

对包含定界符分割值的文本文件(例如CSV, TSV)，PhpStorm提供一个作为选择的表格编辑器。

![CSV文本视图](http://image.jellychen.cn/uploads/2016/11/CSVTextView.png) ![CSV表格视图](http://image.jellychen.cn/uploads/2016/11/CSVTableView.png)

表格编辑器绝大多数的功能是用上下文菜单来访问的。许多命令有快捷键。

![访问表格编辑器功能](http://image.jellychen.cn/uploads/2016/11/CSVTableViewMenu.png)

注意，表格首行的上下文菜单和其他部分的不同。


## <span id='先决条件'>先决条件</span>

为了表格编辑器和相关的特性能被使用：

* 数据库工具和SQL[插件](/如何使用/常规指南/管理插件/插件.md)必须可用.(这插件是IDE附带的并且默认可用)
* 文件扩展名必须关联到文本文件类型，参见例子，[文件类型](/参考/设置参数对话框/编辑器/文件类型/README.md)


## <span id='打开表格编辑器'>打开表格编辑器</span>

你可以打开表格编辑器为整个文件或它的部分。

1. 在编辑器中打开感兴趣的文件
2. 如果你想为部分内容打开表格编辑器，选择那个部分
3. 在右键菜单中选择**Edit as Table**
4. 在打开的[对话框](/)中，指定转换设置然后点击**OK**，之后，文本和数据表显示出来了

![作为表格编辑](http://image.jellychen.cn/uploads/2016/11/edit_as_table.png)


## <span id='排序数据'>排序数据</span>

你可以对任意列排序表格数据通过点击首行的单元格。

在这一行的每个单元格右边都有排序标志，并且，最初的时候，单元格看起来像这样![首行单元格未排序](http://image.jellychen.cn/uploads/2016/11/TableEditorHeaderCellUnsorted.png)这个标志意味着这列数据还没有经过排序。

如果你点击一次这个单元格，相关列的数据按照顺序排序。这可以通过排序标志的外观![顺序排序](http://image.jellychen.cn/uploads/2016/11/TableEditorHeaderCellSortAsc.png)体现出来。标志右上角的数字(图片上的1)是排序级别。（你可以对更多列排序，在那种情况下，不同的列将有不同的排序级别）

当你第二次点击这个单元格，数据按照倒序排列。这是排序标志如何体现这种顺序:![倒序排序](http://image.jellychen.cn/uploads/2016/11/TableEditorHeaderCellSortDesc.png)

最后，你第三次点击这个单元格，重置为最初状态。这时候，相关列的排序被取消了:![首行单元格未排序](http://image.jellychen.cn/uploads/2016/11/TableEditorHeaderCellUnsorted.png)


## <span id='隐藏和展示列'>隐藏和展示列</span>

要隐藏列，右键单击相应的首行单元格，然后选择**Hide column**

要显示隐藏的列：

1. 执行以下操作之一：

    * 右键单击任意首行单元格然后选择**Column List**
    * 按`Ctrl+F12`
    
    在出现的列表中，被隐藏列的名字用横线删除。
    
2. 选中(高亮)感兴趣的列的名字然后按`Space`
3. 按`Enter`或`Esc`关闭列表


## <span id='转置表格'>转置表格</span>

转置表格的视图是可用的。在这个视图中，行和列互相交换了。

要转换这个视图，使用上下文菜单的**Transpose**命令。


## <span id='对一列开启代码协助'>对一列开启代码协助</span>

你可以对一列分配支持的语言类型（例如SQL, HTML或XML）：右键单击相应的首行单元格，选择**Edit As**然后选择语言。作为结果，你可以获得相应语言的代码协助在左右相关的列中。

也可以对[独立单元格](#独立单元格)指定语言。


## <span id='修改单元格内容'>修改单元格内容</span>

1. 要开始编辑一个值，执行以下操作之一：

    * 双击相应的表格单元格
    * 右键单击单元格然后从上下文菜单中选择**Edit Value**或**Edit Maximized**
    * 选择单元格然后按`F2`或`Shift+Enter`。在后一种情况下，单元格将最大化
    * 选择单元格然后开始输入，注意在这种情况下单元格初始的内容被立刻删除然后用输入的值代替

2. 当在编辑模式，你可以：
    
    * 修改单元格的值。要开始新行，使用`Ctrl+Enter`。要保存改变，按`Enter`，要重置为初始值并退出编辑模式，按`Esc`。
    
        ![修改单元格的值](http://image.jellychen.cn/uploads/2016/11/DBEditValueInCell.png)
    
    * 如果你需要更大的编辑空间那么最大化单元格。要做到这个，按`Ctrl+Shift+Alt+M`或右键点击这个单元格然后选择**Maximize**
    
        当在最大化单元格中工作，使用`Enter`开始一个新行，用`Ctrl+Enter`保存值。要重置为初始值并退出编辑模式，按`Esc`。
        
        ![最大化单元格编辑](http://image.jellychen.cn/uploads/2016/11/DBEditValueInBigCell.png)
    
    * 将文本文件内容插入到单元格中。要做到这一点，右键单击该单元格然后选择**Load File**。然后在打开的对话框中选择需要的文件。
    * <span id='独立单元格'>在单元格</span>编辑一个值作为一种支持语言（例如SQL, HTML或XML）的片段。要做到这一点，右键单击该单元格，选择**Edit As**然后选择语言。作为结果，你可以获得选择的语言的代码协助。
    
        ![单元格代码协助](http://image.jellychen.cn/uploads/2016/11/DBEditValueInCellAsLang.png)
    
    
## <span id='添加删除行和列'>添加删除行和列</span>

使用下列上下文菜单命令和快捷键：

* **Add New Row** (`Alt+Insert`).
* **Delete Row** (`Ctrl+Y`). 要一次删除更多行，首先，选中相应的行或相应行的单元格。
* **Clone Row** (`Ctrl+D`). 该命令创建当前行的副本。
* **Add New Column** (`Shift+Alt+Insert`).
* **Delete Column** (`Shift+Alt+Delete`). 要一次删除更多列，首先，选中相应的列或相应列的单元格。
* **Clone Column** (`Ctrl+Shift+Alt+D`). 该命令创建当前列的副本。


## <span id='复制数据到剪贴板或保存到文件'>复制数据到剪贴板或保存到文件</span>

1. 使用以下上下文菜单命令之一：

    * **Copy** (`Ctrl+C`)。该命令从选中单元格中拷贝数据到剪贴板。
        
        如果表格转置显示，（参见[转置表格](#转置表格)）单元格的范围是复制转置后的(界面展示的样子)，如果允许转置的选项打开或者不打开转置(在原始表格中)。
        要开关允许转置的选项，右键单击表格，指向**Data Extractor: <current_format>**然后点击**Allow Transposition.**
        
    * **Dump Data | To Clipboard**.该命令复制整个表格的数据到剪贴板中。
    * **Dump Data | To File**. 该命令保存整个表格的数据到文件中，在实际保存该命令前，一个对话框弹出来让你输出格式和预览数据在文件中的显示效果。

2. 如果想保存数据到文件中，指定文件名和位置。

参见，[改变数据输出格式](#改变数据输出格式)


## <span id='改变数据输出格式'>改变数据输出格式</span>

当复制表格数据到剪贴板(**Copy**和**Dump Data | To Clipboard**命令)，除非你改变格式，这些数据被输出为Tab-Separated Values (TSV)。

要改变输出格式或定义新的输出格式：

1. 右键单击表格然后指向**Data Extractor: <current_format>**
2. 执行以下操作之一：
    
    * 要选择一个不同的格式，点击格式的名称
    * 要定义一个新的定界符分割值格式，或者查看或修改已存在的设置，点击**Configure CSV Formats**，作为结果，[CSV格式对话框](/参考/对话框/CSV格式对话框.md)将会打开。


## <span id='数据标签不可见，为什么？'>数据标签不可见，为什么？</span>

要启用表格视图和相关的特性：

* 数据库工具和SQl[插件](/如何使用/常规指南/管理插件/插件.md)必须可用(这插件是IDE附带的并且默认可用)
* 文件中不能有空行，例如，在行尾的空行
* 文件扩展名必须关联到文本文件类型
* 文件应该至少包含两行两列
* 数据表格通过上下文菜单的命令**Edit as Table**调用




# 另请参阅：

语言和框架具体指南：

* [数据库和SQL](/如何使用/语言和框架-具体指南/数据库和SQL/README.md)